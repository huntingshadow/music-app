(function(t){function e(e){for(var a,s,r=e[0],o=e[1],c=e[2],u=0,d=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);h&&h(e);while(d.length)d.shift()();return l.push.apply(l,c||[]),i()}function i(){for(var t,e=0;e<l.length;e++){for(var i=l[e],a=!0,s=1;s<i.length;s++){var r=i[s];0!==n[r]&&(a=!1)}a&&(l.splice(e--,1),t=o(o.s=i[0]))}return t}var a={},s={app:0},n={app:0},l=[];function r(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-24df0e36":"a564cc7f","chunk-6c5f89be":"3e8bcd0a"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(t){var e=[],i={"chunk-24df0e36":1,"chunk-6c5f89be":1};s[t]?e.push(s[t]):0!==s[t]&&i[t]&&e.push(s[t]=new Promise((function(e,i){for(var a="css/"+({}[t]||t)+"."+{"chunk-24df0e36":"b6d5ec1d","chunk-6c5f89be":"f7c6e204"}[t]+".css",n=o.p+a,l=document.getElementsByTagName("link"),r=0;r<l.length;r++){var c=l[r],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===n))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){c=d[r],u=c.getAttribute("data-href");if(u===a||u===n)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||n,l=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=a,delete s[t],h.parentNode.removeChild(h),i(l)},h.href=n;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){s[t]=0})));var a=n[t];if(0!==a)if(a)e.push(a[2]);else{var l=new Promise((function(e,i){a=n[t]=[e,i]}));e.push(a[2]=l);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=r(t);var d=new Error;c=function(e){u.onerror=u.onload=null,clearTimeout(h);var i=n[t];if(0!==i){if(i){var a=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",d.name="ChunkLoadError",d.type=a,d.request=s,i[1](d)}n[t]=void 0}};var h=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(i,a,function(e){return t[e]}.bind(null,a));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var h=u;l.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0207":function(t,e,i){"use strict";i("1264")},1264:function(t,e,i){},"1a0a":function(t,e,i){},"21bb":function(t,e,i){"use strict";i("2dad")},"2dad":function(t,e,i){},"35d4":function(t,e,i){t.exports=i.p+"img/hotsongbg.f1b88319.png"},"3f68":function(t,e,i){},"4b18":function(t,e,i){"use strict";i("ca0b")},"4cf5":function(t,e,i){"use strict";i("8aa0")},"4d3c":function(t,e,i){"use strict";i("6b09")},"4ffd":function(t,e,i){t.exports=i.p+"img/logo.c534df09.png"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),s=(i("d3b7"),i("bc3a")),n=i.n(s),l={baseURL:"http://musicapi.leanapp.cn/"},r=n.a.create(l);r.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),r.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),Plugin.install=function(t){t.axios=r,window.axios=r,Object.defineProperties(t.prototype,{axios:{get:function(){return r}},$axios:{get:function(){return r}}})},a["a"].use(Plugin);Plugin;var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.appShow,expression:"appShow"}],attrs:{id:"app"}},[i("router-view"),i("Songplay",{attrs:{fullview:t.fullView,id:"songplay",currentplayid:t.currentPlayId,playlist:t.playlist}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullView,expression:"!fullView"}],staticClass:"btn",on:{click:function(e){t.optionShow=!t.optionShow}}},[i("div")]),i("transition",{attrs:{mode:"out-in","enter-active-class":"animate__animated animate__bounceInRight","leave-active-class":"animate__animated animate__bounceOutRight"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.optionShow,expression:"optionShow"}],key:"nihao",staticClass:"option"},[i("div",{staticClass:"ls",on:{click:t.hist_list}},[t._v("历史")]),i("div",{staticClass:"sc",on:{click:t.collect_list}},[t._v("收藏")])])])],1)},c=[],u=(i("a434"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"songplay"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.$root.$children[0].fullView,expression:"!$root.$children[0].fullView"}],staticClass:"halfview"},[i("div",{staticClass:"img",on:{click:function(e){t.$root.$children[0].fullView=!0}}},[i("img",{attrs:{src:t.detail.al.picUrl}})]),i("div",{staticClass:"word",on:{click:function(e){t.$root.$children[0].fullView=!0}}},[t._v(" "+t._s(t.detail.name+"-"+t.author)+" ")]),i("div",{staticClass:"play",on:{click:function(e){t.play=!t.play}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.play,expression:"!play"}],staticClass:"fa fa-play"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.play,expression:"play"}],staticClass:"fa fa-pause"}),i("canvas",{staticStyle:{display:"block"},attrs:{id:"canvas",width:"40",height:"40"}})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.$root.$children[0].fullView,expression:"$root.$children[0].fullView"}],staticClass:"fullview",staticStyle:{"background-color":"skyblue"}},[i("div",{staticClass:"bg",style:"background-image:url("+t.detail.al.picUrl+")"}),i("div",{staticClass:"list",class:{listshow:t.listshow}},[i("div",{staticClass:"listhid",on:{click:function(e){t.listshow=!1}}},[t._v("退出")]),i("div",t._l(t.playlist,(function(e,a){return i("div",{key:a+(new Date).getTime(),class:{white:e.name==t.detail.name},on:{click:function(i){t.$root.$children[0].currentPlayId=e.id}}},[i("Musiclist",{attrs:{songname:e.name,authorarr:e.song.artists,id:e.id}})],1)})),0)]),i("div",{staticClass:"head"},[i("div",{staticClass:"back fa-close fa",on:{click:t.back}}),i("div",{staticClass:"comment",on:{click:function(e){return t.comment(t.detail.id)}}},[t._v(" 评论"),i("span",{staticClass:"fa fa-commenting"})])]),i("div",{staticClass:"brief"},[i("div",{staticClass:"name"},[t._v(t._s(t.detail.name))]),i("div",{staticClass:"author"},[t._v(t._s(t.author))])]),i("div",{staticClass:"fix"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.playshow,expression:"playshow"}],staticClass:"rotate",on:{click:t.controlplay}},[i("img",{class:{pause:!t.play},attrs:{src:t.detail.al.picUrl,alt:""}}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.play,expression:"!play"}],staticClass:"fa fa-play"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.play,expression:"play"}],staticClass:"fa fa-pause"})]),i("div",{staticStyle:{height:"10px"}}),i("div",{staticClass:"lyric",on:{click:function(e){t.playshow=!t.playshow}}},t._l(t.lyricarr,(function(e,a){return i("div",{key:a,ref:"list",refInFor:!0,class:{red:t.time==e.time},attrs:{"data-time":e.time}},[t._v(" "+t._s(e.lyc)+" ")])})),0)]),i("div",{staticClass:"play"},[i("div",{staticClass:"bar"},[i("div",{staticClass:"current"},[t._v(" "+t._s(parseInt(t.current/60))+":"+t._s(t.current%60)+" ")]),i("div",{ref:"pro",staticClass:"progress",on:{click:t.changeprogress}},[i("div",{ref:"abc"})]),i("div",{staticClass:"total"},[t._v(t._s(parseInt(t.total/60))+":"+t._s(t.total%60))])]),i("div",{staticClass:"toggle"},[i("div",{staticClass:"fa fa-step-backward",on:{click:function(e){return t.toggle(-1)}}}),i("div",{staticClass:"fa fa-step-forward",on:{click:t.playorder}}),i("div",{staticClass:"fa fa-align-left",on:{click:function(e){t.listshow=!0}}}),i("div",{staticClass:"fa ",class:{"fa-random":!t.order,"fa-retweet":t.order},on:{click:function(e){t.order=!t.order}}}),t.$root.$children[0].isCollect?i("div",{staticClass:"col fa fa-heart",on:{click:t.del_col}}):t._e(),t.$root.$children[0].isCollect?t._e():i("div",{staticClass:"col fa fa-heart-o",on:{click:t.add_col}})])])]),i("audio",{ref:"audio",attrs:{autoplay:"",src:"https://music.163.com/song/media/outer/url?id="+t.detail.id+".mp3"},on:{ended:t.playorder,timeupdate:t.audioplay,playing:function(e){t.play=!0}}})])}),d=[],h=(i("cb29"),i("4de4"),i("4160"),i("caad"),i("a15b"),i("d81d"),i("fb6a"),i("b0c0"),i("ac1f"),i("25f0"),i("2532"),i("466d"),i("1276"),i("498a"),i("159b"),i("d6e6")),f={props:["fullview","currentplayid","playlist"],components:{Musiclist:h["a"]},data:function(){return{listshow:!1,index:0,total:1,current:1,play:!1,time:"0",detail:{name:"起风了",ar:[{name:"买辣椒也用卷"}],al:{picUrl:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=4068622438,691504340&fm=26&gp=0.jpg"},id:"1330348068"},lyricarr:[{time:0,lyc:"作词 : 米果"},{time:.697,lyc:"作曲 : 高橋優"},{time:1.394,lyc:"编曲：池窪浩一 (Kouichi Ikekubo)"},{time:3.742,lyc:""},{time:26.137,lyc:"这一路上走走停停"},{time:29.192,lyc:"顺着少年漂流的痕迹"},{time:32.281,lyc:"迈出车站的前一刻"},{time:35.395,lyc:"竟有些犹豫"},{time:38.394,lyc:"不禁笑这近乡情怯"},{time:41.791,lyc:"仍无可避免"},{time:44.419,lyc:"而长野的天"},{time:45.734,lyc:"依旧那么暖"},{time:47.284,lyc:"风吹起了从前"},{time:50.053,lyc:"从前初识这世间"},{time:52.785,lyc:"万般流连"},{time:54.562,lyc:"看着天边似在眼前"},{time:57.698,lyc:"也甘愿赴汤蹈火去走它一遍"},{time:62.57,lyc:"如今走过这世间"},{time:65.605,lyc:"万般流连"},{time:67.236,lyc:"翻过岁月不同侧脸"},{time:70.466,lyc:"措不及防闯入你的笑颜"},{time:76.113,lyc:"我曾难自拔于世界之大"},{time:80.207,lyc:"也沉溺于其中梦话"},{time:83.441,lyc:"不得真假 不做挣扎 不惧笑话"},{time:89.101,lyc:"我曾将青春翻涌成她"},{time:92.53,lyc:"也曾指尖弹出盛夏"},{time:95.881,lyc:"心之所动 且就随缘去吧"},{time:102.357,lyc:"逆着光行走 任风吹雨打"},{time:118.63,lyc:"短短的路走走停停"},{time:121.771,lyc:"也有了几分的距离"},{time:124.841,lyc:"不知抚摸的是故事 还是段心情"},{time:131.318,lyc:"也许期待的不过是 与时间为敌"},{time:137.098,lyc:"再次看到你"},{time:138.594,lyc:"微凉晨光里"},{time:140.161,lyc:"笑得很甜蜜"},{time:142.723,lyc:"从前初识这世间"},{time:145.542,lyc:"万般流连"},{time:147.27,lyc:"看着天边似在眼前"},{time:150.22,lyc:"也甘愿赴汤蹈火去走它一遍"},{time:155.313,lyc:"如今走过这世间"},{time:158.262,lyc:"万般流连"},{time:159.99099999999999,lyc:"翻过岁月不同侧脸"},{time:162.962,lyc:"措不及防闯入你的笑颜"},{time:168.87,lyc:"我曾难自拔于世界之大"},{time:172.942,lyc:"也沉溺于其中梦话"},{time:176.145,lyc:"不得真假 不做挣扎 不惧笑话"},{time:181.742,lyc:"我曾将青春翻涌成她"},{time:185.839,lyc:"也曾指尖弹出盛夏"},{time:188.669,lyc:"心之所动 且就随缘去吧"},{time:220.529,lyc:"晚风吹起你鬓间的白发"},{time:224.178,lyc:"抚平回忆留下的疤"},{time:227.391,lyc:"你的眼中 明暗交杂 一笑生花"},{time:232.9,lyc:"暮色遮住你蹒跚的步伐"},{time:236.93200000000002,lyc:"走进床头藏起的画"},{time:240.146,lyc:"画中的你 低着头说话"},{time:245.68,lyc:"我仍感叹于世界之大"},{time:249.391,lyc:"也沉醉于儿时情话"},{time:252.756,lyc:"不剩真假 不做挣扎 无谓笑话"},{time:258.529,lyc:"我终将青春还给了她"},{time:262.281,lyc:"连同指尖弹出的盛夏"},{time:265.609,lyc:"心之所动 就随风去了"},{time:271.204,lyc:"以爱之名 你还愿意吗"},{time:279.145,lyc:""},{time:279.98199999999997,lyc:"吉他： 池窪浩一 (Kouichi Ikekubo)"},{time:280.994,lyc:"贝斯：小島剛広 (Takehiro Kojima)"},{time:281.661,lyc:"鼓：吉田佳史 (TRICERATOPS) (Yoshifumi Yoshida(TRICERATOPS))"},{time:282.463,lyc:"键盘：平畑徹也 (Tetsuya Hirahata)"},{time:283.341,lyc:"小提琴：須磨和声 (Wasei Suma)"},{time:284.211,lyc:"弦乐：須磨和声、池窪浩一"},{time:285.258,lyc:""},{time:286.105,lyc:"录音工程：玉乃井光紀 (Mitsunori Tamanoi) - studioFine"},{time:286.76,lyc:"发行公司：Negia Entertainment Inc."},{time:287.476,lyc:"特别支持：中村光雄(Mitsuo Nakamura)"},{time:291.019,lyc:""}],playshow:!0,order:!0}},computed:{author:function(){return this.detail.ar.map((function(t,e){return t.name})).join(" / ")}},created:function(){},mounted:function(){var t=this;this.$refs.audio.addEventListener("canplay",(function(){t.current=parseInt(t.$refs.audio.currentTime),t.total=isNaN(parseInt(t.$refs.audio.duration))?0:parseInt(t.$refs.audio.duration)})),this.circleplan(document.getElementById("canvas"),0,"skyblue","black")},watch:{play:function(){this.$root.$children[0].isPlay=this.play,this.play?this.$refs.audio.play():this.$refs.audio.pause()},currentplayid:function(){this.setdata();for(var t=0;t<this.playlist.length;t++)if(this.currentplayid==this.playlist[t].id){this.index=t;break}this.$root.$children[0].historyList.push(this.currentplayid)}},methods:{add_col:function(){this.$root.$children[0].add_collect(this.$root.$children[0].currentPlayId)},del_col:function(){this.$root.$children[0].del_collect(this.$root.$children[0].currentPlayId)},circleplan:function(t,e,i,a){var s=2*Math.PI,n=t.getContext("2d"),l=t.width/2,r=t.height/2;n.save(),n.fillStyle=i,n.fillRect(0,0,t.width,t.height),n.restore(),n.fillStyle="white",n.arc(l,r,20,0,s),n.fill(),n.save(),n.beginPath(),n.fillStyle=a,n.lineTo(l,r),n.arc(l,r,20,0-s/4,s/100*e-s/4),n.closePath(),n.fill(),n.restore(),n.save(),n.beginPath(),n.fillStyle=i,n.arc(l,r,15,0,s),n.fill(),n.closePath(),n.restore()},setdata:function(){var t=this,e=this.currentplayid;this.$axios("/song/detail?ids="+e).then((function(e){t.detail=e.data.songs[0]})),this.lyricarr=[],this.$axios("http://music.kele8.cn/lyric?id="+e).then((function(e){if(e.data.nolyric)return t.lyricarr.push({time:0,lyc:"啊哦哦，此歌曲无歌词"}),!1;var i=e.data.lrc.lyric.split("\n").filter((function(t,e){return t.length>0}));if(!i[0].includes("["))return console.log(i.map((function(t){var e=t+"\n\t";return e})).toString()),t.lyricarr.push({time:0,lyc:i.map((function(t){var e=t+"\n";return e})).toString()}),!1;i.forEach((function(e,i){var a=e.match(/\[.*?\]/g)[0].trim().slice(1,-1).split(":");a=a.map((function(t){return parseFloat(t)})),a=60*a[0]+a[1];var s=e.match(/\].*/g)[0].slice(1).trim();t.lyricarr.push({time:a,lyc:s})}))}))},changeprogress:function(t){var e=this.$refs.pro,i=e.getBoundingClientRect().left,a=e.getBoundingClientRect().width,s=t.clientX,n=s-i,l=parseInt(n/a*100);l=l*this.total/100,this.$refs.audio.currentTime=l,this.play=!0},audioplay:function(t){var e=document.getElementById("canvas");if(this.circleplan(e,0,"skyblue","black"),this.$refs.list){var i=this.$refs.abc;this.current=parseInt(t.target.currentTime),this.total=isNaN(parseInt(t.target.duration))?0:parseInt(t.target.duration),i&&(i.style.width=this.current/this.total*100+"%"),this.circleplan(e,this.current/this.total*100,"skyblue","black");for(var a=null,s=0;s<this.$refs.list.length;s++){var n=void 0,l=void 0;if(n=s>0?this.$refs.list[s].dataset.time:-1,l=s<this.$refs.list.length-1?this.$refs.list[s+1].dataset.time:1e4,t.target.currentTime>n&&t.target.currentTime<l){a=this.$refs.list[s];var r=a.parentElement,o=a.offsetTop;this.time=a.dataset.time,this.playshow?r.scrollTo({top:o-50,behavior:"smooth"}):r.scrollTo({top:o-100,behavior:"smooth"})}}}},back:function(){this.$root.$children[0].fullView=!1,this.listshow=!1},comment:function(t){var e=this;this.$router.push("/comment/music/"+t),setTimeout((function(){e.$root.$children[0].fullView=!1}),1e3),this.listshow=!1},controlplay:function(){this.play=!this.play},toggle:function(t){this.index+=t;var e=this.playlist.length;this.index<0&&(this.index=e-1),this.index==e&&(this.index=0),this.$root.$children[0].currentPlayId=this.playlist[this.index].id},playorder:function(){if(this.order)this.toggle(1);else if(Math.random()>.5)if(this.index!=this.playlist.length-1){var t=this.playlist.length-this.index-2,e=parseInt(t*Math.random())+this.index,i=this.playlist[e].id;this.$root.$children[0].currentPlayId=i}else{var a=parseInt(this.index*Math.random()),s=this.playlist[a].id;this.$root.$children[0].currentPlayId=s}else if(0!=this.index){var n=parseInt(this.index*Math.random()),l=this.playlist[n].id;this.$root.$children[0].currentPlayId=l}else{var r=this.playlist.length-this.index-2,o=parseInt(r*Math.random())+this.index,c=this.playlist[o].id;this.$root.$children[0].currentPlayId=c}}}},m=f,p=(i("4cf5"),i("2877")),v=Object(p["a"])(m,u,d,!1,null,null,null),y=v.exports,g={data:function(){return{fullView:!1,currentPlayId:1330348068,playlist:[],isPlay:!1,appShow:!1,optionShow:!1,collectList:[],historyList:[1330348068]}},computed:{isCollect:function(){for(var t=!1,e=this.currentPlayId,i=this.collectList,a=0;a<i.length;a++)i[a]==e&&(t=!0);return t}},created:function(){var t=this,e=document.querySelectorAll(".index_load")[0],i=document.querySelectorAll(".index_load")[1],a=document.querySelector("body");setTimeout((function(){document.querySelector("#index_jindu").innerHTML="100%",setTimeout((function(){a.removeChild(e),a.removeChild(i),t.appShow=!0}),100)}),3e3);var s=window.localStorage.getItem("dxp_collect");null==s||(this.collectList=JSON.parse(s))},components:{Songplay:y},methods:{collect_list:function(){"/collect"!=this.$route.fullPath&&this.$router.push("/collect")},hist_list:function(){"/history"!=this.$route.fullPath&&this.$router.push("/history")},add_collect:function(t){this.collectList.push(t),this.save_collect(this.collectList)},del_collect:function(t){for(var e=0;e<this.collectList.length;e++)this.collectList[e]==t&&this.collectList.splice(e,1);this.save_collect(this.collectList)},save_collect:function(t){window.localStorage.setItem("dxp_collect",JSON.stringify(t))}}},_=g,w=(i("5c0b"),Object(p["a"])(_,o,c,!1,null,null,null)),b=w.exports,C=i("8c4f"),k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("div",{staticClass:"nav"},[t._m(0),i("div",{on:{click:t.clear}},[i("router-link",{attrs:{to:"/"}},[t._v("推荐")]),i("router-link",{attrs:{to:"/hotsonglist"}},[t._v("热歌")])],1),i("div",[i("router-link",{attrs:{to:"/search"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchval,expression:"searchval"}],attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.searchval},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.searchval=e.target.value)}}})])],1)]),i("div",{staticClass:"body"},[i("transition",{attrs:{mode:"out-in","enter-active-class":"animate__animated animate__fadeInRight","leave-active-class":"animate__animated animate__fadeOutLeft",duration:500}},[i("keep-alive",[i("router-view",{attrs:{updatestore:t.updatestore,correlate:t.searchval,history:t.history}})],1)],1)],1)])},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{attrs:{src:i("4ffd")}}),a("span",[t._v("wyy")])])}],x={data:function(){return{searchval:"",history:[]}},created:function(){this.save()},methods:{search:function(t){this.$router.push("/Searchlist/"+this.searchval),t.target.blur(),this.save()},save:function(){var t=this,e=window.localStorage.getItem("huntingshadowhistory");e=JSON.parse(e),null==e&&(e=[]),this.searchval.length>0&&(e.forEach((function(i,a){i==t.searchval&&e.splice(a,1)})),e.push(this.searchval)),this.history=e,window.localStorage.setItem("huntingshadowhistory",JSON.stringify(e))},updatestore:function(){var t=window.localStorage.getItem("huntingshadowhistory");t=JSON.parse(t),null==t&&(t=[]),this.history=t},clear:function(){this.searchval=""}},components:{}},S=x,I=(i("21bb"),Object(p["a"])(S,k,$,!1,null,null,null)),P=I.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hotsong"},[a("div",{staticClass:"headimg"},[a("img",{attrs:{src:i("35d4")}}),a("p",[t._v(" 更新日期："+t._s(new Date((new Date).setTime(this.playlist.updateTime)).toLocaleDateString())+" ")])]),t._l(t.newsonglist,(function(e,i){return a("div",{key:i+e.id,staticClass:"list",on:{click:function(i){return t.play(e.id)}}},[a("Musiclist",{attrs:{id:e.id,songname:e.name,authorarr:e.ar}},[a("div",{class:e.rank>2?"silver":"red",staticStyle:{width:"2em"}},[t._v(" "+t._s(e.rank+1>9?e.rank+1:"0"+(1+e.rank))+" ")])])],1)})),0==t.newsonglist.length?a("div",{staticStyle:{"text-align":"center"}},[a("i",{staticClass:"fa fa-spinner fa-pulse",staticStyle:{color:"skyblue","font-size":"30px"}})]):t._e(),t.more?a("div",{staticClass:"more",on:{click:t.add}},[a("span",{staticClass:"fa fa-send"}),t._v(" 更多")]):t._e()],2)},O=[],E={data:function(){return{playlist:{},songlist:[],sum:0,total:0,more:!1}},methods:{play:function(t){console.log("songlist onclick"),this.$root.$children[0].playlist=this.newsonglist,this.$root.$children[0].currentPlayId=t},add:function(){var t=this,e=this.playlist.trackIds,i=0;this.sum+20>=this.total?(i=this.total,this.more=!1):(i=this.sum+20,this.more=!0);for(var a=function(i){t.$axios("/song/detail?ids=".concat(e[i].id)).then((function(e){var a=e.data.songs[0];a.rank=i,a.song={},a.song.artists=e.data.songs[0].ar,t.songlist.push(a)}))},s=this.sum;s<i;s++)a(s);this.sum+=20}},computed:{newsonglist:function(){return this.songlist.sort((function(t,e){return t.rank-e.rank}))}},components:{Musiclist:h["a"]},created:function(){var t=this;this.$axios("/playlist/detail?id=3778678").then((function(e){return t.playlist=e.data.playlist,e.data.playlist.trackIds})).then((function(e){t.total=e.length,t.add()}))}},N=E,j=(i("9f90"),Object(p["a"])(N,T,O,!1,null,"7081418d",null)),M=j.exports,R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"recommend"},[i("div",{staticClass:"recommendlist"},[t._m(0),i("div",{staticClass:"sudoku"},t._l(t.songlist,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.details(e.id)}}},[i("img",{attrs:{src:e.picUrl}}),i("div",{staticClass:"num"},[i("span",{staticClass:"fa-headphones fa"},[t._v(t._s(t.playcount[a]))])]),i("div",{staticClass:"introduce"},[t._v(t._s(e.name))])])})),0),0==t.songlist.length?i("div",{staticStyle:{"text-align":"center"}},[i("i",{staticClass:"fa fa-spinner fa-pulse",staticStyle:{color:"skyblue","font-size":"30px"}})]):t._e()]),i("div",{staticClass:"newmusic"},[t._m(1),t._l(t.newsong,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.play(e.id)}}},[i("Musiclist",{attrs:{"data-id":e.id,songname:e.name,authorarr:e.song.artists,id:e.id}})],1)})),0==t.newsong.length?i("div",{staticStyle:{"text-align":"center"}},[i("i",{staticClass:"fa fa-spinner fa-pulse",staticStyle:{color:"skyblue","font-size":"30px"}})]):t._e()],2)])},L=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("span",{staticClass:"fa-music fa"}),t._v(" 推荐歌单 ")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("span",{staticClass:"fa-music fa"}),t._v(" 最新音乐 ")])}],D=(i("b680"),{data:function(){return{songlist:[],newsong:[]}},computed:{playcount:function(){return this.songlist.map((function(t,e){var i="";return i=t.playCount>1e8?(t.playCount/1e8).toFixed(1)+"亿":t.playCount>1e4?(t.playCount/1e4).toFixed(1)+"万":t.playcount,i}))}},created:function(){var t=this;this.$axios("/personalized?limit=6").then((function(e){t.songlist=e.data.result})),this.$axios("/personalized/newsong/limit=30").then((function(e){t.newsong=e.data.result}))},methods:{details:function(t){this.$router.push("/songlist/"+t)},play:function(t){this.$root.$children[0].playlist=this.newsong,this.$root.$children[0].currentPlayId=t}},components:{Musiclist:h["a"]}}),F=D,U=(i("4b18"),Object(p["a"])(F,R,L,!1,null,"2bf7e884",null)),V=U.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.correlate.length,expression:"correlate.length == 0"}],staticClass:"title"},[t._v("热门搜索")]),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.correlate.length,expression:"correlate.length == 0"}],staticClass:"hot"},t._l(t.hot,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.search(e.first)}}},[t._v(" "+t._s(e.first)+" ")])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.correlate.length,expression:"correlate.length == 0"}],staticClass:"history"},[i("div",{staticClass:"title"},[t._v("搜索历史")]),i("div",{staticClass:"list"},t._l(t.history,(function(e,a){return i("div",{key:a},[i("span",{on:{click:function(i){return t.search(e)}}},[t._v(t._s(e))]),i("span",{staticClass:"fa fa-trash",on:{click:function(e){return t.abc(a)}}})])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.correlate.length,expression:"correlate.length != 0"}],staticClass:"hint"},[t._v('搜索"'+t._s(t.correlate)+'"')]),i("div",{directives:[{name:"show",rawName:"v-show",value:0!=t.correlate.length,expression:"correlate.length != 0"}],staticClass:"correlatelist"},t._l(t.xiangguan,(function(e,a){return i("div",{key:a,on:{click:function(i){return t.search(e)}}},[i("span",{staticClass:"fa-search fa",staticStyle:{color:"dimgrey"}}),t._v(" "+t._s(e)+" ")])})),0)])},A=[],H=(i("6062"),i("3ca3"),i("ddb0"),i("2909")),q=i("b85c"),B={props:["correlate","history","updatestore"],data:function(){return{hot:[],xiangguan:[],time:null}},watch:{correlate:function(){var t=this;this.xiangguan=[],clearTimeout(this.time),this.time=setTimeout((function(){t.$axios("/search/suggest?keywords="+t.correlate).then((function(e){var i=e.data.result;for(var a in i){var s,n=Object(q["a"])(i[a]);try{for(n.s();!(s=n.n()).done;){var l=s.value;l.name&&t.xiangguan.push(l.name)}}catch(r){n.e(r)}finally{n.f()}}t.xiangguan=Object(H["a"])(new Set(t.xiangguan))}))}),1e3)}},created:function(){var t=this;this.$axios("/search/hot").then((function(e){t.hot=e.data.result.hots}))},methods:{search:function(t){this.$router.push("/Searchlist/"+t);var e=window.localStorage.getItem("huntingshadowhistory");e=JSON.parse(e),null==e&&(e=[]),t.length>0&&(e.forEach((function(i,a){i==t&&e.splice(a,1)})),e.push(t)),window.localStorage.setItem("huntingshadowhistory",JSON.stringify(e)),this.updatestore()},abc:function(t){var e=window.localStorage.getItem("huntingshadowhistory");e=JSON.parse(e),e.splice(t,1),window.localStorage.setItem("huntingshadowhistory",JSON.stringify(e)),this.updatestore()}}},z=B,K=(i("b190"),Object(p["a"])(z,J,A,!1,null,"00d81820",null)),Y=K.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"searchlist"},t._l(t.songlistarr,(function(e,a){return i("div",{key:a+(new Date).getTime(),on:{click:function(i){return t.play(e.id)}}},[i("Musiclist",{attrs:{id:e.id,keyword:t.$route.params.key,songname:e.name,authorarr:e.artists}})],1)})),0)},G=[],Q={data:function(){return{songlistarr:[]}},created:function(){this.getsonglist()},beforeRouteEnter:function(t,e,i){i((function(t){t.getsonglist()}))},methods:{play:function(t){this.$root.$children[0].currentPlayId=t},getsonglist:function(){var t=this,e=this.$route.params.key;this.$parent.searchval=e,this.$axios("/search?keywords="+e).then((function(e){t.songlistarr=e.data.result.songs}))}},components:{Musiclist:h["a"]}},X=Q,Z=(i("961f"),Object(p["a"])(X,W,G,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment"},[i("div",{staticClass:"back"},[i("div",{staticClass:"back fa-close fa",on:{click:t.back}})]),i("div",{staticClass:"hot"},[i("div",{staticClass:"title"},[t._v("热评")]),i("div",{staticClass:"eg"},t._l(t.hot.list,(function(e,a){return i("div",{key:a+(new Date).getTime(),staticClass:"discuss"},[i("div",{staticClass:"info"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.user.avatarUrl}}),i("div",[i("p",[t._v(t._s(e.user.nickname))]),i("p",[t._v(" "+t._s(new Date(e.time).getFullYear())+"-"+t._s(new Date(e.time).getMonth()+1)+"-"+t._s(new Date(e.time).getDate())+" "+t._s(new Date(e.time).getHours())+":"+t._s(new Date(e.time).getMinutes())+" ")])])]),i("div",{staticClass:"right"},[t._v(" "+t._s(e.likedCount)+" "),i("span",{staticClass:"fa-thumbs-o-up fa"})])]),i("div",{staticClass:"rubbishword"},[e.beReplied.length>0?i("span",{staticClass:"reply"},[t._v("回复 "),i("span",{staticStyle:{color:"blue"}},[t._v(t._s("@"+e.beReplied[0].user.nickname+":"))])]):t._e(),t._v(" "+t._s(e.content)+" ")]),e.beReplied.length>0?i("div",{staticClass:"floor"},[t._v(t._s(e.beReplied[0].content?e.beReplied[0].content:"此评论已被删除"))]):t._e()])})),0)]),t.hot.list.length!=t.hot.totallist.length?i("div",{staticClass:"more",on:{click:t.getofsomehot}},[t._v(" 更多 ")]):t._e(),t.hot.list.length==t.hot.totallist.length?i("div",{staticClass:"more"},[t._v(" 已经到底了 ")]):t._e(),i("div",{staticClass:"ordinary"},[i("div",{staticClass:"title",staticStyle:{color:"red"}},[t._v("全部评论")]),i("div",{staticClass:"eg"},t._l(t.ordinary.list,(function(e,a){return i("div",{key:a+(new Date).getTime(),staticClass:"discuss"},[i("div",{staticClass:"info"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:e.user.avatarUrl}}),i("div",[i("p",[t._v(t._s(e.user.nickname))]),i("p",[t._v(" "+t._s(new Date(e.time).getFullYear())+"-"+t._s(new Date(e.time).getMonth()+1)+"-"+t._s(new Date(e.time).getDate())+" "+t._s(new Date(e.time).getHours())+":"+t._s(new Date(e.time).getMinutes())+" ")])])]),i("div",{staticClass:"right"},[t._v(" "+t._s(e.likedCount)+" "),i("span",{staticClass:"fa-thumbs-o-up fa"})])]),i("div",{staticClass:"rubbishword"},[e.beReplied.length>0?i("span",{staticClass:"reply"},[t._v("回复 "),i("span",{staticStyle:{color:"blue"}},[t._v(t._s("@"+e.beReplied[0].user.nickname+":"))])]):t._e(),t._v(" "+t._s(e.content)+" ")]),e.beReplied.length>0?i("div",{staticClass:"floor"},[t._v(t._s(e.beReplied[0].content?e.beReplied[0].content:"此评论已被删除"))]):t._e()])})),0)]),t.ordinary.list.length!=t.ordinary.total?i("div",{staticClass:"more",on:{click:t.getofsomeordinary}},[t._v(" 更多 ")]):t._e(),t.ordinary.list.length==t.ordinary.total?i("div",{staticClass:"more"},[t._v(" 已经到底了 ")]):t._e()])},it=[],at=(i("99af"),{data:function(){return{hot:{list:[],totallist:[]},ordinary:{list:[],total:0}}},beforeRouteEnter:function(t,e,i){i((function(t){t.gethotdata(),t.getordinarydata()}))},beforeRouteUpdate:function(t,e,i){this.gethotdata(),this.getordinarydata(),i()},methods:{back:function(){this.$router.go(-1)},gethotdata:function(){var t=this,e=this.$route.params.id,i=this.$route.params.type;this.$axios("/comment/".concat(i,"?id=").concat(e,"&limit=1")).then((function(e){t.hot.totallist=e.data.hotComments,t.getofsomehot()}))},getofsomehot:function(){var t=this.hot.list.length,e=this.hot.totallist.length,i=0;i=t+3<e?t+3:e,this.hot.list=this.hot.list.concat(this.hot.totallist.slice(t,i))},getordinarydata:function(){var t=this,e=this.$route.params.id,i=this.$route.params.type;this.$axios("/comment/".concat(i,"?id=").concat(e,"&limit=5")).then((function(e){t.ordinary.total=e.data.total,t.ordinary.list=e.data.comments}))},getofsomeordinary:function(){var t=this,e=this.$route.params.id,i=this.$route.params.type,a=this.ordinary.list.length,s=this.ordinary.total,n=0;n=a+5<s?5:s-a,this.$axios("/comment/".concat(i,"?id=").concat(e,"&limit=").concat(n,"&offset=").concat(a)).then((function(e){e.data.comments.forEach((function(e){t.ordinary.list.push(e)}))}))}}}),st=at,nt=(i("0207"),Object(p["a"])(st,et,it,!1,null,"2ca5a858",null)),lt=nt.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"songlist"},[t.detail&&void 0==t.detail.adType?i("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",height:"100vh"}},[i("i",{staticClass:"fa fa-spinner fa-pulse",staticStyle:{color:"skyblue","font-size":"30px"}})]):t._e(),t.detail&&void 0!=t.detail.adType?i("div",{staticClass:"brief"},[i("div",{staticClass:"back fa-close fa",on:{click:t.back}}),i("div",{staticClass:"img"},[i("img",{attrs:{src:t.detail.coverImgUrl}})]),i("div",{staticClass:"name"},[t._v(t._s(t.detail.name))]),i("div",{staticClass:"author"},[i("img",{attrs:{src:t.detail.creator.avatarUrl}}),t._v(" "+t._s(t.detail.creator.nickname)+" ")]),i("div",{staticClass:"playcount"},[t._v("播放量:"+t._s(t.playcount))]),i("div",{staticClass:"song"},[i("div",{staticClass:"count"},[t._v("歌单 共"+t._s(t.detail.trackIds.length)+"首")]),i("div",{staticClass:"comment",on:{click:function(e){return t.comment(t.detail.id)}}},[t._v(" 评论"),i("span",{staticClass:"fa fa-commenting"})])])]):t._e(),i("div",{staticClass:"list"},t._l(t.newsonglist,(function(e,a){return i("div",{key:a+(new Date).getTime(),on:{click:function(i){return t.play(e.id)}}},[i("Musiclist",{attrs:{songname:e.name,authorarr:e.ar}},[t._v(" "+t._s(a+1>9?a+1:"0"+(a+1))+" ")])],1)})),0)])},ot=[],ct={components:{Musiclist:h["a"]},data:function(){return{detail:{trackIds:[]},oldsonglist:[]}},beforeRouteEnter:function(t,e,i){i((function(t){t.oldsonglist=[],t.setdata()}))},computed:{newsonglist:function(){return this.oldsonglist.sort((function(t,e){return t.rank-e.rank}))},playcount:function(){var t=0;return t=this.detail.playCount>1e8?(this.detail.playCount/1e8).toFixed(1)+"亿":this.detail.playCount>1e4?(this.detail.playCount/1e4).toFixed(1)+"万":this.detail.playCount,t}},methods:{back:function(){this.$router.go(-1)},comment:function(t){this.$router.push("/comment/playlist/"+t)},play:function(t){this.$root.$children[0].playlist=this.newsonglist,this.$root.$children[0].currentPlayId=t},setdata:function(){var t=this,e=this.$route.params.id;this.$axios("/playlist/detail?id="+e).then((function(e){t.detail=e.data.playlist;for(var i=function(e){t.$axios("/song/detail?ids="+t.detail.trackIds[e].id).then((function(i){var a=i.data.songs[0];a.rank=e,a.song={},a.song.artists=i.data.songs[0].ar,t.oldsonglist.push(a)}))},a=0;a<t.detail.trackIds.length;a++)i(a)}))}}},ut=ct,dt=(i("4d3c"),Object(p["a"])(ut,rt,ot,!1,null,"76c8e57b",null)),ht=dt.exports;a["a"].use(C["a"]);var ft=[{path:"/",component:P,children:[{path:"/hotsonglist",component:M,name:"Hotsonglist",meta:{title:"热歌榜"}},{path:"",component:V,name:"Recommend",meta:{title:"推荐"}},{path:"/search",component:Y,name:"Search",meta:{title:"搜索"}},{path:"/searchlist/:key",component:tt,name:"Searchlist",meta:{title:"搜索"}}]},{path:"/songlist/:id",component:ht,name:"Songlist",meta:{title:"歌单"}},,{path:"/comment/:type/:id",component:lt,name:"comment",meta:{title:"评论"}},{path:"/collect",component:function(){return i.e("chunk-24df0e36").then(i.bind(null,"0c03"))},name:"collect",meta:{title:"收藏"}},{path:"/history",component:function(){return i.e("chunk-6c5f89be").then(i.bind(null,"e4bb"))},name:"history",meta:{title:"历史"}}],mt=new C["a"]({mode:"hash",routes:ft,scrollBehavior:function(t,e,i){return i||{x:0,y:0}}});mt.beforeEach((function(t,e,i){document.querySelector("title").innerHTML=t.meta.title,i()}));var pt=mt;i("ebd9"),i("3f68"),i("1a0a");a["a"].config.productionTip=!1,new a["a"]({router:pt,render:function(t){return t(b)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},"624e":function(t,e,i){},"6b09":function(t,e,i){},"8aa0":function(t,e,i){},"8e4a":function(t,e,i){"use strict";i("e883")},"961f":function(t,e,i){"use strict";i("624e")},"9c0c":function(t,e,i){},"9c71":function(t,e,i){},"9f90":function(t,e,i){"use strict";i("9c71")},b190:function(t,e,i){"use strict";i("badf")},badf:function(t,e,i){},ca0b:function(t,e,i){},d6e6:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"musiclist"},[i("div",{staticClass:"rank"},[t._t("default")],2),i("div",{staticClass:"right"},[i("div",{staticClass:"music"},[i("div",{staticClass:"name",domProps:{innerHTML:t._s(t.name)}}),i("div",{staticClass:"author"},[t._v(t._s(t.author))])]),i("span",{staticClass:"play fa ",class:t.$root.$children[0].currentPlayId==t.id&&t.$root.$children[0].isPlay?"fa-pause-circle":"fa-play-circle"})])])},s=[],n=(i("a15b"),i("d81d"),i("b0c0"),i("ac1f"),i("5319"),{props:["songname","authorarr","keyword","id"],data:function(){return{name:""}},mounted:function(){this.datachange()},updated:function(){this.datachange()},methods:{datachange:function(){var t=this.songname;this.keyword?this.name=t.replace(this.keyword,'<span style="color:red">'.concat(this.keyword,"</span>")):this.name=t}},computed:{author:function(){return this.authorarr.map((function(t){return t.name})).join(" / ")}}}),l=n,r=(i("8e4a"),i("2877")),o=Object(r["a"])(l,a,s,!1,null,null,null);e["a"]=o.exports},e883:function(t,e,i){},ebd9:function(t,e,i){}});
//# sourceMappingURL=app.d445b22f.js.map